micronaut:
  application:
    name: demo
  server:
    port: 8080
    cors:
      enabled: true
      configurations:
        all:
          allowed-origins:
            - ".*"
          allowed-methods:
            - GET
            - POST
            - OPTIONS
          allowed-headers:
            - "*"
  router:
    static-resources:
      default:
        enabled: true
        mapping: /**
        paths: classpath:public

datasources:
  default:
    url: jdbc:postgresql://localhost:5432/coinflip
    username: coinflip
    password: coinflip
    driver-class-name: org.postgresql.Driver
    dialect: POSTGRES

flyway:
  datasources:
    default:
      enabled: true

app:
  deposit:
    ton-address: "UQAN-GMEfjCLxd_K0Yn7wri7vWiCTUIogzzhqdyUNTYqPQe5"
    usdt-jetton-master: "EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"
  ton:
    network: "mainnet"
    verify:
      lookback-tx-count: 150
  toncenter:
    base-url: "https://toncenter.com/api/v2"
    api-key: "7fac53bbccd5e782a2609e568ae0c40f3ceaece37a5fecca30457d478c7bd1af"
  wallet:
    # Mnemonic for hot wallet (24 words, space-separated)
    # In production, use environment variable: APP_WALLET_MNEMONIC
    mnemonic: ${APP_WALLET_MNEMONIC:}
    # WalletV4R2 subwallet_id - use the same value as when wallet was created
    # Default: 2147483409 (standard WalletV4R2 mainnet)
    # If you see exitcode=138 error, check what value your wallet expects
    # and set it here or via APP_WALLET_SUBWALLET_ID env var
    subwallet-id: ${APP_WALLET_SUBWALLET_ID:2147483409}
  withdraw:
    max-attempts: 3
    worker-batch-size: 5
    worker-interval-ms: 3000
    recovery-interval-ms: 60000
    # Set to true to simulate withdrawals without sending real TON
    # Default: false in production (requires APP_WALLET_MNEMONIC)
    mock-mode: ${APP_WITHDRAW_MOCK_MODE:false}

